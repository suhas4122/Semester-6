b=$'\u0020';a="REQ_HEADERS=\"traceparent,User-Agent\";VERBOSE=0;YELLOW='\033[1;33m';NC='\033[0m';if${b}[${b}\$#${b}-gt${b}0${b}];then${b}if${b}[${b}\$1${b}=${b}\"-v\"${b}]${b};then${b}VERBOSE=1;${b}fi;fi;function${b}LOG()${b}{${b}if${b}[[${b}\$VERBOSE${b}-eq${b}1${b}]];${b}then${b}echo${b}-e${b}\"\${YELLOW}[debug]${b}\$@\${NC}\";${b}fi;};curl${b}-o${b}example.html${b}https://www.example.com/;if${b}[${b}\$?${b}-ne${b}0${b}];then${b}LOG${b}\"Failed${b}to${b}fetch${b}the${b}webpage\";${b}exit${b}1;fi;curl${b}-i${b}http://ip.jsontest.com/;if${b}[${b}\$?${b}-ne${b}0${b}];then${b}LOG${b}\"Failed${b}to${b}fetch${b}the${b}IP\";${b}exit${b}1;fi;arrIN=(\${REQ_HEADERS//,/${b}});LOG${b}\"REQ_HEADERS:${b}[\${arrIN[@]}]\";str=\$(printf${b}\".\\\"%s\\\",${b}\"${b}\"\${arrIN[@]}\");curl${b}http://headers.jsontest.com/${b}|${b}jq${b}\"\${str::-2}\";>${b}valid.txt;>${b}invalid.txt;FILES=\$(find${b}./JSONData${b}-name${b}\"*.json\");for${b}i${b}in${b}\$FILES;do${b}is_json=\$(curl${b}-d${b}\"json=\$(cat${b}\${i})\"${b}-X${b}POST${b}http://validate.jsontest.com/${b}|${b}jq${b}'.validate');${b}if${b}[${b}\"\$is_json\"${b}==${b}\"true\"${b}];${b}then${b}LOG${b}\"JSON${b}file:${b}\$i${b}is${b}valid\";${b}echo${b}\$(basename${b}--${b}\$i)${b}>>valid.txt;${b}else${b}LOG${b}\"JSON${b}file:${b}\$i${b}is${b}invalid\";${b}echo${b}\$(basename${b}--${b}\$i)${b}>>invalid.txt;${b}fi;done;sort${b}-o${b}valid.txt${b}valid.txt;sort${b}-o${b}invalid.txt${b}invalid.txt";eval $a
